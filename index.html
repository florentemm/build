<!DOCTYPE html>
<html style="font-size: 14px;"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ИНФОРМАЦИЯ О БИЛД СЕРВЕРЕ</title>
  
  
  <style>
    html,
    body {
      overflow: visible !important;
    }
    div.view-content {
      height: 100% !important;
      padding: 0 !important;
    }
    .callout.is-collapsible .callout-title {
      cursor: pointer !important;
    }
    
  </style>
  <link rel="stylesheet" href="c4411b0a4667bbfbf3114033211b10fe.css">
  <script src="app.js"></script>
  
<script type="text/javascript" src="lucide.0.287.0.js"></script></head>
<body class="mod-windows is-frameless is-hidden-frameless obsidian-app show-inline-title show-ribbon show-view-header css-settings-manager style-text is-focused share-note-plugin theme-dark" style="--zoom-factor: 1; --font-text-size: 14px;">
<div class="app-container">
  <div class="horizontal-main-container">
    <div class="workspace">
      <div class="workspace-split mod-vertical mod-root">
        <div class="workspace-leaf mod-active">
          <div class="workspace-leaf-content">
            <div class="view-content">
              <div class="markdown-reading-view" style="height:100%;width:100%;">
                <div class="markdown-preview-view markdown-rendered node-insert-event is-readable-line-width allow-fold-headings show-indentation-guide allow-fold-lists show-properties" style="tab-size: 4;">
                  <div class="markdown-preview-sizer markdown-preview-section">
                    <div class="markdown-preview-pusher" style="width: 1px; height: 0.1px;"></div>
                    <div class="mod-header mod-ui"><div class="inline-title" contenteditable="true" spellcheck="true" autocapitalize="sentences" tabindex="-1" enterkeyhint="done">'EBU.MOM' BUILD -</div></div><div class="el-div"><div data-callout-metadata="" data-callout-fold="" data-callout="правила" class="callout"><div class="callout-title" dir="auto"><div class="callout-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="pencil" class="lucide lucide-pencil callout-icon" data-share-note-lucide="pencil"><path d="M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"></path><path d="m15 5 4 4"></path></svg></div><div class="callout-title-inner">Правила</div></div><div class="callout-content">
<blockquote dir="auto">
<p><span style="color: #d83931; font-weight: bold;">Несоблюдение</span> правил может привести к <span style="color: #d83931; font-weight: bold;">временному или постоянному бану</span> вас на сервере. Соблюдайте их ответственно.</p>
</blockquote>
<h2 data-heading="1. Основные правила" dir="auto">1. Основные правила</h2>
<h3 data-heading="1.1. Ваши действия на сервере:" dir="auto">1.1. Ваши действия на сервере:</h3>
<ul class="has-list-bullet">
<li data-line="7" dir="auto"><span class="list-bullet"></span><span class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></span><strong>Не должны наносить</strong> <span style="color: #d83931; font-weight: bold;">вред серверу</span>:
<ul class="has-list-bullet">
<li data-line="8" dir="auto"><span class="list-bullet"></span>Не нарушайте <span style="color: #d83931; font-weight: bold;">стабильную работу</span> сервера.</li>
<li data-line="9" dir="auto"><span class="list-bullet"></span><span style="color: #d83931; font-weight: bold;">Не вредите</span> постройкам других игроков.</li>
</ul>
</li>
<li data-line="10" dir="auto"><span class="list-bullet"></span><span class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></span><strong>Не должны нарушать внешние правила</strong>:
<ul class="has-list-bullet">
<li data-line="11" dir="auto"><span class="list-bullet"></span>Соблюдайте правила <a data-tooltip-position="top" aria-label="https://pepeland.net/rules/pepeland-8#talk" rel="noopener nofollow" class="external-link" href="https://pepeland.net/rules/pepeland-8#talk">pepeland'а</a> и <a data-tooltip-position="top" aria-label="https://www.twitch.tv/p/ru-ru/legal/terms-of-service/#10-prohibited-conduct" rel="noopener nofollow" class="external-link" href="https://www.twitch.tv/p/ru-ru/legal/terms-of-service/#10-prohibited-conduct">пользовательское соглашение Twitch</a>.</li>
</ul>
</li>
</ul>
<h3 data-heading="1.2. Использование команд и утилит:" dir="auto">1.2. Использование команд и утилит:</h3>
<ul class="has-list-bullet">
<li data-line="15" dir="auto"><span class="list-bullet"></span>Пользуйтесь любой командой/утилитой <span style="color: #d83931; font-weight: bold;">только с уверенностью</span>, того, что это не приведет к негативным последствиям.</li>
</ul>
<h3 data-heading="1.3. Изменение настроек сервера:" dir="auto">1.3. Изменение настроек сервера:</h3>
<ul class="has-list-bullet">
<li data-line="19" dir="auto"><span class="list-bullet"></span>После изменения настроек (геймрулы, тикрейт, настройки Carpet'а и др.) <span style="color: #d83931; font-weight: bold;">возвращайте их</span> в стандартное состояние.</li>
<li data-line="20" dir="auto"><span class="list-bullet"></span>Это <span style="color: #d83931; font-weight: bold;">предотвращает неудобства</span> для других игроков в будущем.</li>
</ul>
<hr>
<h2 data-heading="2. Взаимодействие с другими игроками" dir="auto">2. Взаимодействие с другими игроками</h2>
<h3 data-heading="2.1. Уважение:" dir="auto">2.1. Уважение:</h3>
<ul class="has-list-bullet">
<li data-line="28" dir="auto"><span class="list-bullet"></span><span style="color: #d83931; font-weight: bold;">Уважайте</span> других игроков и их постройки.</li>
<li data-line="29" dir="auto"><span class="list-bullet"></span><span style="color: #d83931; font-weight: bold;">Не вносите изменения</span> в чужие постройки без явного согласия.</li>
</ul>
<h3 data-heading="2.2. Телепортация:" dir="auto">2.2. Телепортация:</h3>
<ul class="has-list-bullet">
<li data-line="33" dir="auto"><span class="list-bullet"></span><span style="color: #d83931; font-weight: bold;">Не телепортируйтесь</span> к другим игрокам без их согласия.</li>
<li data-line="34" dir="auto"><span class="list-bullet"></span>Используйте команду <code>/tpa</code>, чтобы запросить разрешение на телепортацию. Учитывайте, что игрок может строить что-то секретное.</li>
</ul>
<h3 data-heading="2.3. Принуждение:" dir="auto">2.3. Принуждение:</h3>
<ul class="has-list-bullet">
<li data-line="38" dir="auto"><span class="list-bullet"></span><span style="color: #d83931; font-weight: bold;">Не заставляйте</span> других игроков выполнять какое-либо действие на сервере против их воли.</li>
<li data-line="39" dir="auto"><span class="list-bullet"></span>Вы можете ненавязчиво предложить участие в чем-либо на сервере, но <span style="color: #d83931; font-weight: bold;">уважайте отказ</span>.</li>
</ul>
</div></div></div><div class="el-div"><div data-callout-metadata="" data-callout-fold="" data-callout="полезная-информация" class="callout"><div class="callout-title" dir="auto"><div class="callout-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="pencil" class="lucide lucide-pencil callout-icon" data-share-note-lucide="pencil"><path d="M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"></path><path d="m15 5 4 4"></path></svg></div><div class="callout-title-inner">Полезная информация</div></div><div class="callout-content">
<h3 data-heading="1.1. Актуальная версия сервера:" dir="auto">1.1. Актуальная версия сервера:</h3>
<ul class="has-list-bullet">
<li data-line="3" dir="auto"><span class="list-bullet"></span><strong>1.21.3</strong></li>
</ul>
<h3 data-heading="1.2. IP-адреса сервера:" dir="auto">1.2. IP-адреса сервера:</h3>
<ul class="has-list-bullet">
<li data-line="7" dir="auto"><span class="list-bullet"></span><span class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></span>Основные:
<ul class="has-list-bullet">
<li data-line="8" dir="auto"><span class="list-bullet"></span><code>ebu.mom</code></li>
<li data-line="9" dir="auto"><span class="list-bullet"></span><code>build.20tps.ru</code></li>
<li data-line="10" dir="auto"><span class="list-bullet"></span><code>188.127.241.211:25832</code></li>
</ul>
</li>
<li data-line="11" dir="auto"><span class="list-bullet"></span><span class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></span>Альтернативные:
<ul class="has-list-bullet">
<li data-line="12" dir="auto"><span class="list-bullet"></span><code>alt.f.ebu.mom</code></li>
<li data-line="13" dir="auto"><span class="list-bullet"></span><code>147.45.193.193:1984</code></li>
</ul>
</li>
</ul>
<hr>
<h2 data-heading="2. Доступные моды и утилиты" dir="auto">2. Доступные моды и утилиты</h2>
<ul class="has-list-bullet">
<li data-line="19" dir="auto"><span class="list-bullet"></span><strong><a data-tooltip-position="top" aria-label="https://axiom.moulberry.com/" rel="noopener nofollow" class="external-link" href="https://axiom.moulberry.com/">Axiom</a>:</strong> мощный мод для строителей.</li>
<li data-line="20" dir="auto"><span class="list-bullet"></span><strong><a data-tooltip-position="top" aria-label="https://modrinth.com/plugin/worldedit" rel="noopener nofollow" class="external-link" href="https://modrinth.com/plugin/worldedit">WorldEdit</a>:</strong> популярный инструмент, менее актуальный, но удобный.</li>
<li data-line="21" dir="auto"><span class="list-bullet"></span><strong><a data-tooltip-position="top" aria-label="https://modrinth.com/mod/armorstandeditor" rel="noopener nofollow" class="external-link" href="https://modrinth.com/mod/armorstandeditor">Armor Stand Editor</a>:</strong> редактирование стоек для брони.</li>
<li data-line="22" dir="auto"><span class="list-bullet"></span><strong>Armor Statues:</strong> датапак, как на pepeland'е. Используйте <code>/function armor_statues:give</code> для получения книги.</li>
<li data-line="23" dir="auto"><span class="list-bullet"></span><strong>Head Index:</strong> позволяет получить любую голову. Команда: <code>/head</code>.</li>
<li data-line="24" dir="auto"><span class="list-bullet"></span><strong><a data-tooltip-position="top" aria-label="https://github.com/gnembon/fabric-carpet/wiki" rel="noopener nofollow" class="external-link" href="https://github.com/gnembon/fabric-carpet/wiki">Carpet</a>:</strong> полезный мод для управления миром. Используйте с осторожностью.</li>
</ul>
<hr>
<h2 data-heading="3. Полезные команды" dir="auto">3. Полезные команды</h2>
<ul class="has-list-bullet">
<li data-line="30" dir="auto"><span class="list-bullet"></span><code>/head</code> — доступ к базе данных голов.</li>
<li data-line="31" dir="auto"><span class="list-bullet"></span><code>/lobby &lt;куда&gt;</code> — телепортация между локациями и мирами сервера.</li>
<li data-line="32" dir="auto"><span class="list-bullet"></span><code>/whynoaxiom</code> — диагностика проблем с модом Axiom.</li>
<li data-line="33" dir="auto"><span class="list-bullet"></span><code>/e &lt;эмоут&gt;</code> — отправка эмоутов из пака pepeland'а в чат.</li>
<li data-line="34" dir="auto"><span class="list-bullet"></span><code>/click &lt;тип&gt; &lt;селектор&gt; &lt;"сообщение/ссылка"&gt;</code> — отправка кликабельного текста или ссылок в чат.</li>
</ul>
<hr>
<h2 data-heading="4. Траблшутинг" dir="auto">4. Траблшутинг</h2>
<p dir="auto">Если вы столкнулись с проблемами на сервере:</p>
<ol>
<li data-line="42" dir="auto"><span class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></span>
<p><strong>Не можете зайти:</strong></p>
<ul class="has-list-bullet">
<li data-line="44" dir="auto"><span class="list-bullet"></span>Попробуйте альтернативные IP.</li>
<li data-line="45" dir="auto"><span class="list-bullet"></span>Включите/выключите VPN или прокси.</li>
<li data-line="46" dir="auto"><span class="list-bullet"></span>Перезапустите игру для обновления аутентификации.</li>
</ul>
</li>
<li data-line="47" dir="auto"><span class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></span>
<p><strong>Проблемы с <a data-tooltip-position="top" aria-label="https://axiom.moulberry.com/" rel="noopener nofollow" class="external-link" href="https://axiom.moulberry.com/">Axiom'ом</a>:</strong></p>
<ul class="has-list-bullet">
<li data-line="49" dir="auto"><span class="list-bullet"></span>Попробуйте зайти по ip: <code>ebu.mom</code></li>
<li data-line="50" dir="auto"><span class="list-bullet"></span>Убедитесь, что версия Axiom соответствует серверной (текущая: 4.3.3).</li>
<li data-line="51" dir="auto"><span class="list-bullet"></span>Используйте <code>/whynoaxiom</code> , команда возвращает возможную причину отсутствия аксиома.</li>
</ul>
</li>
</ol>
<hr>
<h2 data-heading="5. Поддержка сервера" dir="auto">5. Поддержка сервера</h2>
<p dir="auto">Вы можете <a data-tooltip-position="top" aria-label="https://www.donationalerts.com/r/florentemm" rel="noopener nofollow" class="external-link" href="https://www.donationalerts.com/r/florentemm">поддержать сервер</a> и меня лично, любой суммой, это абсолютно не обязательно, только по вашему желанию.</p>
</div></div></div><div class="el-div"><div data-callout-metadata="" data-callout-fold="" data-callout="баджи-и-покраски" class="callout"><div class="callout-title" dir="auto"><div class="callout-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="pencil" class="lucide lucide-pencil callout-icon" data-share-note-lucide="pencil"><path d="M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"></path><path d="m15 5 4 4"></path></svg></div><div class="callout-title-inner">Баджи и покраски</div></div><div class="callout-content">
<h3 data-heading="Важная информация перед покупкой" dir="auto">Важная информация перед покупкой</h3>
<ol>
<li data-line="3" dir="auto"><strong>Оплата</strong>: Услуга 
оплачивается только после её активации на сервере, после того как вы 
убедитесь что все правильно. (через DonationAlerts).</li>
<li data-line="4" dir="auto"><strong>Связь для вопросов</strong>: Discord — <code>@noosb</code>.</li>
</ol>
<hr>
<h3 data-heading="Что такое покраска и бадж?" dir="auto">Что такое покраска и бадж?</h3>
<ul class="has-list-bullet">
<li data-line="10" dir="auto"><span class="list-bullet"></span><strong>Покраска ника</strong>:
 градиент из 1–3 цветов (HEX), наложенный на ваш ник, отображающийся в 
чате и табе сервера (над игроком не отображается).</li>
<li data-line="11" dir="auto"><span class="list-bullet"></span><strong>Бадж</strong>: Unicode-символ перед ником, который можно покрасить в HEX, также отображается в табе и чате.</li>
</ul>
<p dir="auto"><strong>Пример ника с покраской и баджем</strong>:<br>
<span style="font-family: 'Minecraft', sans-serif; font-weight: bold; font-size: 15px; background: linear-gradient(to right, #8a2be2, #ff69b4, #ffa07a); -webkit-background-clip: text; -webkit-text-fill-color: transparent; display: inline-block; position: relative;"><span style="font-family: 'Minecraft', sans-serif; font-size: 14px; vertical-align: 1px;">🎵</span>florentem</span></p>
<hr>
<h3 data-heading="Условия и процесс покупки" dir="auto">Условия и процесс покупки</h3>
<ol>
<li data-line="19" dir="auto"><span class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></span>
<p><strong>Привязка к аккаунту</strong>:</p>
<ul class="has-list-bullet">
<li data-line="21" dir="auto"><span class="list-bullet"></span>Покраска и бадж закрепляются за вашим Minecraft-аккаунтом и привязаны к uuid (при смене ника остаются).</li>
<li data-line="22" dir="auto"><span class="list-bullet"></span>Услуга переносится на все Minecraft сервера, организованные мной, где возможно установить моды/плагины <a data-tooltip-position="top" aria-label="https://modrinth.com/mod/placeholder-api" rel="noopener nofollow" class="external-link" href="https://modrinth.com/mod/placeholder-api">TextPlaceholderAPI</a>, <a data-tooltip-position="top" aria-label="https://modrinth.com/mod/styled-chat" rel="noopener nofollow" class="external-link" href="https://modrinth.com/mod/styled-chat">StyledChat</a> и <a data-tooltip-position="top" aria-label="https://modrinth.com/mod/styledplayerlist" rel="noopener nofollow" class="external-link" href="https://modrinth.com/mod/styledplayerlist">StyledPlayerList</a>.</li>
</ul>
</li>
<li data-line="23" dir="auto"><span class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></span>
<p><strong>Для покупки</strong>:</p>
<ul class="has-list-bullet">
<li data-line="25" dir="auto"><span class="list-bullet"></span>Напишите в Discord (<code>@noosb</code>) ваш ник и желаемую услугу.</li>
<li data-line="26" dir="auto"><span class="list-bullet"></span><span class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></span>Укажите детали:
<ul class="has-list-bullet">
<li data-line="27" dir="auto"><span class="list-bullet"></span><strong>Для покраски:</strong> выберите 1–3 цвета HEX.</li>
<li data-line="28" dir="auto"><span class="list-bullet"></span><strong>Для баджа:</strong> выберите Unicode-символ и его цвет HEX.</li>
</ul>
</li>
</ul>
</li>
</ol>
<hr>
<h3 data-heading="Стоимость" dir="auto">Стоимость</h3>
<ul class="has-list-bullet">
<li data-line="34" dir="auto"><span class="list-bullet"></span><strong>Покраска ника:</strong> 40 ₽</li>
<li data-line="35" dir="auto"><span class="list-bullet"></span><strong>Бадж:</strong> 30 ₽</li>
</ul>
</div></div></div><div class="el-div"><div data-callout-metadata="" data-callout-fold="" data-callout="danger" class="callout node-insert-event"><div class="callout-title" dir="auto"><div class="callout-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="zap" class="lucide lucide-zap callout-icon" data-share-note-lucide="zap"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon></svg></div><div class="callout-title-inner">Спасибо за поддержку!</div></div><div class="callout-content">
<ul class="has-list-bullet">
<li data-line="1" dir="auto"><span class="list-bullet"></span><code>Peepo_salo</code> - 3000 ₽</li>
<li data-line="2" dir="auto"><span class="list-bullet"></span><code>Ut0p1sT</code> - 2040 ₽</li>
<li data-line="3" dir="auto"><span class="list-bullet"></span><code>tetrisssru</code> - 700 ₽</li>
<li data-line="4" dir="auto"><span class="list-bullet"></span><code>asty</code> - 300 ₽</li>
<li data-line="5" dir="auto"><span class="list-bullet"></span><code>Dark0Master_0_</code> - 250 ₽</li>
<li data-line="6" dir="auto"><span class="list-bullet"></span><code>ByrgeRad</code> - 180 ₽</li>
<li data-line="7" dir="auto"><span class="list-bullet"></span><code>iQusko</code> - 300 ₽</li>
<li data-line="8" dir="auto"><span class="list-bullet"></span><code>_Nana_9</code> - 120 ₽</li>
<li data-line="9" dir="auto"><span class="list-bullet"></span><code>MrFlint</code> - 100 ₽</li>
<li data-line="10" dir="auto"><span class="list-bullet"></span><code>HiPlay</code> - 100 ₽</li>
<li data-line="11" dir="auto"><span class="list-bullet"></span><code>kovallskyi</code> - 50 ₽</li>
<li data-line="12" dir="auto"><span class="list-bullet"></span><code>stazi_meow</code> -50 ₽</li>
<li data-line="13" dir="auto"><span class="list-bullet"></span><code>todd_15</code> - 180 ₽</li>
<li data-line="14" dir="auto"><span class="list-bullet"></span><code>alisa_the_knight</code> - 30 ₽</li>
<li data-line="15" dir="auto"><span class="list-bullet"></span><code>Анонимы</code> - 450 ₽</li>
</ul>
</div></div></div><div class="mod-footer mod-ui"></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  
<script>
  // Преобразование Base64 в ArrayBuffer
  function base64ToArrayBuffer(base64) {
    const binaryString = atob(base64);
    const bytes = new Uint8Array(binaryString.length);
    for (let i = 0; i < binaryString.length; i++) {
      bytes[i] = binaryString.charCodeAt(i);
    }
    return bytes.buffer;
  }

  // Расшифровка строки
  async function decryptString({ ciphertext, iv }, secret) {
    const ivArr = iv ? base64ToArrayBuffer(iv) : new Uint8Array(1);
    const aesKey = await window.crypto.subtle.importKey(
      'raw', 
      base64ToArrayBuffer(secret), 
      { name: 'AES-GCM', length: 256 }, 
      false, 
      ['decrypt']
    );

    const plaintext = [];
    for (let index = 0; index < ciphertext.length; index++) {
      const ciphertextChunk = ciphertext[index];
      if (!iv) ivArr[0] = index & 0xFF;
      const ciphertextBuf = base64ToArrayBuffer(ciphertextChunk);
      const plaintextChunk = await window.crypto.subtle
        .decrypt({ name: 'AES-GCM', iv: ivArr }, aesKey, ciphertextBuf);
      plaintext.push(new TextDecoder().decode(plaintextChunk));
    }
    return plaintext.join('');
  }

  // Функция сортировки списка
  function sortList() {
    const $list = document.querySelector(".has-list-bullet");
    if ($list) {
      const items = Array.from($list.children);
      items.sort((a, b) => {
        const aSort = parseInt(a.getAttribute('data-sort'), 10) || 0;
        const bSort = parseInt(b.getAttribute('data-sort'), 10) || 0;
        return bSort - aSort; // Сортировка по убыванию
      });
      items.forEach(item => $list.appendChild(item)); // Добавляем отсортированные элементы обратно
    }
  }

  // Основная логика
  document.addEventListener('DOMContentLoaded', () => {
    const encryptedData = document.getElementById('encrypted-data')?.innerText.trim();
    const payload = encryptedData ? JSON.parse(encryptedData) : '';
    const secret = window.location.hash.slice(1); // Ключ из хэша URL

    if (payload && secret) {
      decryptString({ ciphertext: payload.ciphertext, iv: payload.iv }, secret)
        .then(text => {
          const data = JSON.parse(text);
          const contentEl = document.getElementById('template-user-data');
          if (contentEl) contentEl.outerHTML = data.content;
          document.title = data.basename;

          // Инициализация документа и сортировка списка
          initDocument();
          sortList();
        })
        .catch(() => {
          const contentEl = document.getElementById('template-user-data');
          if (contentEl) contentEl.innerHTML = 'Невозможно расшифровать данные с этим ключом.';
        });
    } else {
      sortList(); // Если данных нет, сортировка по умолчанию
    }
  });
</script>

</body></html>
